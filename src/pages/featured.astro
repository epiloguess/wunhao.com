---
import { getCollection } from "astro:content";

const allPosts = await getCollection("docs");

const featuredPosts = await getCollection(
  "docs",
  (post) => post.data.popular === true
);

import Layout from "../layouts/SideBarLayout.astro";
import CategoriesCard from "../components/CategoriesCard.astro";
import TagsCard from "../components/TagsCard.astro";
import BlogPost from "../components/BlogPostByYears.astro";
---

<Layout title="Featured">
  <BlogPost slot="article-content" posts={featuredPosts} />
  <section slot="sidebar-content" class="flex flex-col gap-8">
    <CategoriesCard posts={allPosts} />
    <TagsCard posts={allPosts} />
  </section>
</Layout>
